{% extends "base.html" %}
{% block content %}
<h1>Articles</h1>
{% if request.user.is_authenticated %}
<form method="post">
    {% csrf_token %}
    <div class="mb-3">
        <label for="wiki_url" class="form-label">Wikipedia URL:</label>
        <input type="url" class="form-control" id="wiki_url" name="wiki_url" placeholder="https://pl.wikipedia.org/wiki/Przyk%C5%82ad" required>
    </div>
    <button type="submit" class="btn btn-primary">Kopiuj artykuł z Wikipedii</button>
</form>
{% else %}
<p>Zaloguj się, aby dodać artykuł.</p>
{% endif %}
<hr>
<h2>Lista artykułów</h2>
<ul class="list-group">
    {% for article in articles %}
    <li class="list-group-item">
        <strong>{{ article.title }}</strong><br>
        <small>{{ article.url }}</small>
        <div>{{ article.content|truncatewords:50 }}</div>
    </li>
    {% empty %}
    <li class="list-group-item">Brak artykułów.</li>
    {% endfor %}
</ul>
{% endblock %}
