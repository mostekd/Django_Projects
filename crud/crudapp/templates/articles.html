{% extends 'base.html' %}
{% block title %}ArtykuÅ‚y{% endblock %}
{% block content %}
<h1>Lista artykuÅ‚Ã³w</h1>

<div class="center-button">
    <a href="{% url 'index' %}">â† PowrÃ³t do listy ToDo</a>
</div>

{% if user.is_authenticated %}
<div class="center-button">
    <a href="{% url 'create-article' %}">+ Dodaj rÄ™cznie</a>
    <a href="{% url 'create-article-from-url' %}">ğŸŒ Dodaj z linka</a>
</div>
{% endif %}

{% for article in articles %}
<div class="todo-item">
    <h2>{{ article.title|default:"(brak tytuÅ‚u)" }}</h2>
    <p>
        {% if article.status == 'in_progress' %}
            â³ Trwa pobieranie artykuÅ‚u...
        {% elif article.status == 'success' %}
            âœ… Gotowe
        {% elif article.status == 'error' %}
            âŒ WystÄ…piÅ‚ bÅ‚Ä…d podczas pobierania
        {% else %}
            â±ï¸ Oczekuje na przetworzenie
        {% endif %}
    </p>
    <p>{{ article.content }}</p>
    <small>Autor: {{ article.author.username }} | {{ article.created_at }}</small>
    {% if request.user == article.author %}
    <div style="margin-top: 10px;">
        <a href="{% url 'edit-article' article.id %}">Edytuj</a>
        <a href="{% url 'delete-article' article.id %}">UsuÅ„</a>
    </div>
    {% endif %}
</div>
{% empty %}
<p>Brak artykuÅ‚Ã³w.</p>
{% endfor %}
{% endblock %}
